# Tang Nano design for M5Stack

## 概要

M5StackからTang NanoをI2C経由で制御するためのTang Nanoのデザイン

## 機能

WS2812の制御モジュールを試験的に実装。I2C経由で制御可能。

I2Cのデバイスアドレスは `7'h48`

GW1N-1の45番ピンがSCL、44番ピンがSDA、43番ピンがWS2812のシリアル信号出力

I2Cのレジスタ・マップは次の通り

| オフセット | アクセス | 内容 |
|:---|:---|:---|
| 0x00 | RW | 操作対象のLEDの番号 |
| 0x01 | RW | 現在選択しているLEDの赤色の輝度値 |
| 0x02 | RW | 現在選択しているLEDの緑色の輝度値 |
| 0x03 | RW | 現在選択しているLEDの青色の輝度値 |

## モジュール

### i2c_slave.v

よくあるレジスタ・アクセス用のI2CプロトコルでFPGA内部のレジスタにアクセスするためのコア

### ws2812b.sv

WorldsemiのWS2812Bを制御するためのシリアル信号を生成するモジュール。